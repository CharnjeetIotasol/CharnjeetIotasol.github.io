<!DOCTYPE html>
<html>

<head>
    <title>2 - updated</title>
    <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-look-at-component@0.8.0/dist/aframe-look-at-component.min.js"></script>
    <script type='text/javascript' src='aframe-ar-nft.js'></script>
    <script>
        window.onload = () => {
            
            navigator.geolocation.getCurrentPosition((position) => {
                alert(position.coords.latitude);
                alert(position.coords.longitude);
                document.querySelector('a-image').setAttribute('gps-entity-place', `latitude: ${position.coords.latitude}; longitude: ${position.coords.longitude};`)
            });
            AFRAME.registerComponent('clicker', {
                init: function () {
                    alert(4);
                    this.el.addEventListener('click', e => {
                        alert(4);
                        alert('Marker clicked!');
                    });
                }
            });
        }

    </script>
</head>

<body style='margin: 0; overflow: hidden;'>
    <a-scene vr-mode-ui="enabled: false" arjs='sourceType: webcam; videoTexture: true; debugUIEnabled: false;'>

        <!-- ~ 0m far -->
        <a-image src="place.png" clicker></a-image>

        <!-- using gpsMinDistance: 5 => update GPS only if user moves by 5 meters or more => avoid shaking for near objects -->
        <!-- using accelerationToMove: 1.0 => 'smooth' inertial sensors precision precision in order to avoid distant places shaking -->
        <a-camera rotation-reader gps-camera="gpsMinDistance: 10;">
        </a-camera>
    </a-scene>
</body>

</html>